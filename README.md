# â›… Eric Chen å€‹äººç¶²ç«™å°ˆæ¡ˆ

æä¾›å€‹äººå“ç‰Œå±•ç¤ºã€ä½œå“é›†èˆ‡æŠ€è¡“éƒ¨è½æ ¼ï¼ˆMDX ç­†è¨˜ç³»çµ±ï¼‰ï¼Œçµåˆä¸»é¡Œåˆ‡æ›ã€ç¨‹å¼ç¢¼hightlightã€é–±è®€æ™‚é–“è¨ˆç®—ç­‰åŠŸèƒ½ï¼Œè®“è¨ªå®¢èƒ½å¤ å¿«é€Ÿäº†è§£å°ˆæ¡ˆã€é–±è®€ç­†è¨˜ä¸¦ç€è¦½å€‹äººä»‹ç´¹ã€‚

---

## ğŸ” å°ˆæ¡ˆèƒŒæ™¯èˆ‡å‹•æ©Ÿ

Eric Chen å€‹äººç¶²ç«™æ—¨åœ¨ï¼š

- å»ºç«‹ä¸€å€‹é›†ä¸­å±•ç¤ºå€‹äººä»‹ç´¹ã€æŠ€èƒ½èˆ‡ä½œå“é›†çš„å¹³å°ï¼Œæå‡ç·šä¸Šå½¢è±¡ã€‚
- å¯¦ä½œä¸€å¥—ä»¥ MDX ç‚ºåŸºç¤çš„ç­†è¨˜ç³»çµ±ï¼Œæ–¹ä¾¿ç®¡ç†èˆ‡å±•ç¤ºæŠ€è¡“ç­†è¨˜ï¼Œä¸¦å…·å‚™ç¨‹å¼ç¢¼hightlightã€æ¨™ç±¤ç¯©é¸ã€æœå°‹ã€åˆ†é èˆ‡ä¸Šä¸€ç¯‡/ä¸‹ä¸€ç¯‡åŠŸèƒ½ã€‚
- ç·´ç¿’ä¸¦ç†Ÿæ‚‰ Next.js 15 App Router æ–°ç‰¹æ€§ã€TypeScript åš´æ ¼å‹åˆ¥ã€MDX è™•ç†æµç¨‹ã€ä»¥åŠå„ç¨®æ•ˆèƒ½èˆ‡ SEO æœ€ä½³åŒ–æŠ€å·§ã€‚
- é€éç¾ä»£åŒ–å‰ç«¯æŠ€è¡“ï¼ˆTailwind CSSã€React Hooksã€Server Componentsã€Client Componentsã€rehype-prism-plusã€date-fns ç­‰ï¼‰ï¼Œæå‡é–‹ç™¼ç¶“é©—ä¸¦ç´¯ç©å¯¦ä½œæ¡ˆä¾‹ã€‚

é€éæ­¤å°ˆæ¡ˆï¼Œä¸åƒ…æä¾›è¨ªå®¢å‹å¥½çš„å€‹äººé é¢ï¼Œä¹Ÿä½œç‚ºè‡ªå·±å­¸ç¿’èˆ‡å¯¦è¸æœ€æ–°å‰ç«¯æŠ€è¡“ã€å„ªåŒ–éƒ¨ç½²æµç¨‹èˆ‡é–‹ç™¼é«”é©—çš„ Playgroundã€‚

---

## ğŸ§ª æŠ€è¡“å †ç–Šï¼ˆTech Stackï¼‰

1. **Next.js 15 (App Router)**
   - ä½¿ç”¨ Next.js æœ€æ–° App Router æ¶æ§‹ï¼Œæ”¯æ´å‹•æ…‹è·¯ç”±ã€SSR/SSG/ISRã€Server Components èˆ‡ Client Componentsã€‚
2. **TypeScript**
   - å…¨ç«™æ¡ç”¨ TypeScriptï¼Œæå‡å‹åˆ¥å®‰å…¨èˆ‡ç·¨è¼¯å™¨è¼”åŠ©ï¼Œä¸¦è§£æ±º MDXComponentsã€NotePage ç­‰çµ„ä»¶çš„å‹åˆ¥å•é¡Œã€‚
3. **Tailwind CSS**
   - ä½œç‚ºä¸»è¦æ¨£å¼æ–¹æ¡ˆï¼Œå¿«é€Ÿæ‰“é€ éŸ¿æ‡‰å¼æ’ç‰ˆã€ä¸»é¡Œï¼ˆæ·±æ·ºè‰²ï¼‰åˆ‡æ›èˆ‡å®¢è£½åŒ–è¨­è¨ˆã€‚
4. **MDXï¼ˆnext-mdx-remoteï¼‰ + rehype-prism-plus**
   - MDX ç­†è¨˜ç³»çµ±ï¼šä½¿ç”¨ `next-mdx-remote/rsc` çš„ `compileMDX` è§£æï¼Œæ•´åˆå‰ç½®æ¬„ä½ï¼ˆfrontmatterï¼‰ã€ç¨‹å¼ç¢¼hightlightï¼ˆrehype-prism-plusï¼‰ã€è‡ªè¨‚ MDXComponents æ˜ å°„ã€‚

---

## ğŸ§© åŠŸèƒ½äº®é»

1. **MDX ç­†è¨˜ç³»çµ±**
   - æ”¯æ´å¤šç¯‡ MDX ç­†è¨˜ï¼šå‰ç½®æ¬„ä½ (title, description, date, tags)ã€ç¨‹å¼ç¢¼hightlightã€æ¨™ç±¤ç¯©é¸ã€æœå°‹ã€åˆ†é ã€ä¸Šä¸€ç¯‡/ä¸‹ä¸€ç¯‡å°è¦½ã€‚
2. **å‹•æ…‹è·¯ç”±èˆ‡ SEO**
   - Next.js App Router å‹•æ…‹è·¯ç”± (`/notes/[slug]`)ï¼Œ`generateStaticParams` & `dynamic='force-dynamic'` çµåˆ ISR/SSRï¼Œä¸¦åœ¨ `generateMetadata` ä¸­è¼‰å…¥å‹•æ…‹ Metadataï¼Œå¢å¼· SEO æ•ˆæœã€‚
3. **ç¨‹å¼ç¢¼hightlightèˆ‡è¤‡è£½**
   - MDXComponents æ””æˆª `<pre><code>`ï¼Œä½¿ç”¨è‡ªè¨‚ `CodeBlock` client component é¡¯ç¤ºç¨‹å¼ç¢¼å¡Šã€Prism hightlightï¼Œä¸¦æä¾›è¤‡è£½æŒ‰éˆ•ã€‚
4. **æœå°‹èˆ‡ç¯©é¸é«”é©—**
   - ç­†è¨˜åˆ—è¡¨é æä¾›é—œéµå­—æœå°‹ï¼ˆæ¨™é¡Œã€æè¿°ã€æ¨™ç±¤ï¼‰ã€åˆ†é æ§åˆ¶ï¼Œæå‡å°èˆªæ•ˆç‡ï¼›React Hooks ç®¡ç†ç‹€æ…‹ä¸¦å¯¦ç¾å‹•æ…‹éæ¿¾ã€‚

---

## âš™ï¸ é–‹ç™¼éç¨‹ä¸­çš„æŒ‘æˆ°èˆ‡è§£æ±º

1. **Next.js 15 App Router çš„ params await**
   - åœ¨ Next.js 15 ä¸­ï¼Œ`params` æ˜¯ async resourceï¼Œå¿…é ˆ `const { slug } = await params;`ã€‚è‹¥å¿˜è¨˜æœƒç·¨è­¯éŒ¯èª¤ï¼Œè§£æ³•æ˜¯åœ¨ `Page` å’Œ `generateMetadata` è£¡éƒ½ await paramsã€‚
2. **MDX compileMDX è¨­å®š**
   - `compileMDX` çš„ `remarkPlugins`ã€`rehypePlugins` éœ€æ”¾åœ¨ `options.mdxOptions` ä¸‹ï¼Œå¦å‰‡ TypeScript å ±éŒ¯ã€‚ä¸¦åœ¨ catch è£¡è©³ç´° `console.error`ï¼Œæ–¹ä¾¿æ’æŸ¥ frontmatter æˆ– MDX èªæ³•éŒ¯èª¤ã€‚
3. **ç¨‹å¼ç¢¼hightlight Unknown language**
   - MDX code fence è‹¥è¨­ `mdx`ï¼ŒPrism æœªè¨»å†Šï¼Œéœ€æ”¹æˆ `jsx/tsx`ï¼Œæˆ–åŠ  remark plugin è‡ªå‹•è½‰æ›ï¼Œç¢ºä¿ `rehype-prism-plus` æ­£å¸¸hightlightã€‚
4. **MDXComponents ä¸­ Image è™•ç†**
   - è‹¥ä½¿ç”¨ Next.js `<Image>`ï¼Œéœ€ StaticImport æˆ–æ˜ç¢º width/heightï¼Œè¼ƒéº»ç…©ã€‚æ­¤å°ˆæ¡ˆé¸ç”¨ `<img loading="lazy" alt="">` fallbackï¼Œä¸¦åœ¨å¿…è¦æ™‚ inline disable ESLintï¼Œé¿å…è­¦å‘Šã€‚
5. **TS å‹åˆ¥è­·è¡›**
   - åœ¨ MDXComponents `pre` æ””æˆªæ™‚ï¼Œ`child.props` å¯èƒ½ç‚º `unknown`ï¼Œä½¿ç”¨ `React.isValidElement` åšé¡å‹è­·è¡›ï¼Œå†å– `child.props.children`ã€`className`ï¼›NotePage props å®šç¾© `content: React.ReactNode`ï¼Œè§£æ±º TS2322 éŒ¯èª¤ã€‚
6. **slug å‘½åèˆ‡æª”æ¡ˆè®€å–**
   - ç¢ºä¿è³‡æ–™å¤¾åç¨±ç„¡ç©ºæ ¼æˆ–ç‰¹æ®Šå­—å…ƒï¼Œåªç”¨å°å¯«èˆ‡é€£å­—è™Ÿï¼Œé¿å… `fs.readFile` ENOENTã€‚éƒ¨ç½²æ–°å¢ç­†è¨˜å¾Œæ³¨æ„é‡å•Ÿ dev serverï¼Œä»¥æ›´æ–° `generateStaticParams` å¿«å–ã€‚
7. **æœå°‹èˆ‡åˆ†é æ•ˆèƒ½**
   - Client-side æœå°‹æ™‚æ³¨æ„é¿å…ä¸€æ¬¡æ¸²æŸ“æ‰€æœ‰ MDX contentï¼Œåªå–å¾— metadata åˆ—è¡¨å³å¯ï¼›åˆ†é èˆ‡æœå°‹ç¯©é¸é‚è¼¯åœ¨ `SearchNotes` ä¸­ç”¨ `useState` ç®¡ç†ä¸¦ slice é™£åˆ—ã€‚
8. **SEO èˆ‡ Metadata**
   - æ–¼ `generateMetadata` ä¸­è¼‰å…¥ frontmatter çš„ titleã€descriptionï¼›é…åˆ Open Graph ç­‰ meta tag æå‡åˆ†äº«é è¦½æ•ˆæœã€‚
9. **éƒ¨ç½²èˆ‡å¿«å–**
   - åœ¨ Vercel éƒ¨ç½²æ™‚ï¼Œæ³¨æ„ Next.js å¿«å– revalidate è¨­å®šï¼›é–‹ç™¼ç’°å¢ƒå¯æš«åœå¿«å–ä»¥ä¾¿å³æ™‚çœ‹åˆ°æ–°å¢ç­†è¨˜ã€‚

---

---

## å°ˆæ¡ˆçµæ§‹æ¦‚è¦½

```txt

â”œâ”€â”€ app
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ notes
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ [slug]/page.tsx
â”‚   â”œâ”€â”€ about/page.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”œâ”€â”€ MDXComponents.tsx
â”‚   â”œâ”€â”€ CodeBlock.tsx
â”‚   â”œâ”€â”€ SearchNotes.tsx
â”‚   â”œâ”€â”€ ThemeToggle.tsx
â”‚   â”œâ”€â”€ SEO.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ data
â”‚   â””â”€â”€ notes/<slug>/page.mdx
â”œâ”€â”€ lib
â”‚   â”œâ”€â”€ getAllNotes.ts
â”‚   â”œâ”€â”€ getNoteBySlug.ts
â”‚   â””â”€â”€ generateMetadata.ts
â”œâ”€â”€ public
â”‚   â””â”€â”€ assets/...
â”œâ”€â”€ styles
â”‚   â””â”€â”€ global.css, tailwind.css
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## ğŸ“ å­¸ç¿’æ”¶ç©«

- **Next.js App Router æ·±å…¥å¯¦ä½œç¶“é©—**ï¼šç†è§£å‹•æ…‹è·¯ç”±ã€generateStaticParamsã€dynamic æ¸²æŸ“ç­–ç•¥èˆ‡ Metadata APIï¼Œå¢å¼·å¯¦å‹™èƒ½åŠ›ã€‚
- **MDX ç­†è¨˜ç³»çµ±å»ºç½®**ï¼šæŒæ¡ `next-mdx-remote` ç·¨è­¯æµç¨‹ã€frontmatter è§£æã€ç¨‹å¼ç¢¼hightlightæ•´åˆèˆ‡çµ„ä»¶æ˜ å°„æŠ€å·§ã€‚
- **TypeScript å‹åˆ¥è­·è¡›**ï¼šåœ¨å¤šç¨®å ´æ™¯ï¼ˆMDXComponentsã€NotePage propsã€compileMDX å›å‚³ï¼‰æ­£ç¢ºä½¿ç”¨ `React.ReactNode`ã€`React.HTMLAttributes<T>` ç­‰ï¼Œé¿å… any èˆ‡ TS éŒ¯èª¤ã€‚
- **Tailwind CSS ä¸»é¡Œèˆ‡æ¨£å¼å¯¦è¸**ï¼šå¿«é€Ÿæ‰“é€ éŸ¿æ‡‰å¼ UIã€ä¸»é¡Œåˆ‡æ›ã€æ’ç‰ˆèˆ‡å¯è®€æ€§å„ªåŒ–ã€‚
- **æ•ˆèƒ½èˆ‡ SEO å„ªåŒ–**ï¼šåªåœ¨å¿…è¦æ™‚ç·¨è­¯ MDX contentã€å¢é‡éœæ…‹ç”Ÿæˆ (ISR)ã€å‹•æ…‹ Metadataã€Lazy loading åœ–ç‰‡èˆ‡ç¨‹å¼ç¢¼åˆ†å¡Šï¼Œæå‡è¼‰å…¥é€Ÿåº¦èˆ‡æœç´¢å¼•æ“å¯è¦‹åº¦ã€‚
- **ç¨‹å¼ç¢¼hightlightèˆ‡ UX**ï¼šå¯¦ä½œ `CodeBlock` client componentï¼Œæä¾›è¤‡è£½æŒ‰éˆ•èˆ‡ Prism hightlightï¼Œæå‡é–±è®€ç¨‹å¼ç¢¼é«”é©—ã€‚
- **éŒ¯èª¤è™•ç†èˆ‡æ—¥èªŒ**ï¼šåœ¨ getAllNotesã€getNoteBySlugã€Page catch ä¸­è¨˜éŒ„è©³ç´°éŒ¯èª¤è¨Šæ¯ï¼Œå¿«é€Ÿå®šä½ frontmatter æˆ–æª”æ¡ˆç³»çµ±å•é¡Œã€‚
- **éƒ¨ç½²æµç¨‹**ï¼šç†Ÿæ‚‰ Vercel éƒ¨ç½² Next.js æ‡‰ç”¨ï¼Œä¸¦èª¿æ•´ revalidateã€ç’°å¢ƒè®Šæ•¸è¨­å®šï¼Œç¢ºä¿ç”Ÿç”¢ç’°å¢ƒæ­£ç¢ºé‹è¡Œã€‚

---

## ğŸš€ ç·šä¸Šå±•ç¤ºèˆ‡åŸå§‹ç¢¼é€£çµ

- ğŸ”— [ğŸ‘‰ ç·šä¸Š Try It](https://ericchen-website-pro.vercel.app/)
- ğŸ§‘â€ğŸ’» [GitHub åŸå§‹ç¢¼](https://github.com/54hanyi/ericchen-website-pro)
