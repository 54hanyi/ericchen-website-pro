---
title: 'Next.js 15 Params æ‡‰è©²è¦ await çš„å‘'
description: 'è¨˜éŒ„é‡åˆ° `params.slug` / `params.tag` è¦ await æ‰èƒ½ç”¨çš„å•é¡Œï¼Œé¿å…è¸©å‘ï¼'
tags: ['Next.js', 'App Router', 'params', 'å‘']
date: '2025-06-06'
---

# Next.js 15 Params æ‡‰è©²è¦ `await` çš„å‘

## ğŸ§ å•é¡ŒèƒŒæ™¯

åœ¨ **Next.js 13/14** çš„ App Routerï¼Œç›´æ¥æ‹¿ `params.slug`ã€`params.tag` æ˜¯åŒæ­¥çš„ï¼Œä¸éœ€è¦ç‰¹åˆ¥è™•ç†ã€‚

ä½†æ˜¯åˆ°äº† **Next.js 15**ï¼Œå®˜æ–¹åšäº†é‡å¤§æ”¹ç‰ˆï¼š

> `params` æ˜¯ async çš„ï¼Œå¿…é ˆ `await` æ‰èƒ½ä½¿ç”¨è£¡é¢çš„å€¼ã€‚

å¦‚æœä½ é€™æ¨£å¯«ï¼š

```tsx
export default async function Page({ params }: { params: { slug: string } }) {
  const slug = params.slug; // âŒ éŒ¯èª¤ï¼Next.js 15 ä¸å…è¨±
}
```

å°±æœƒå‡ºç¾é€™å€‹éŒ¯èª¤è¨Šæ¯ï¼š

```
Error: Route "/notes/[slug]" used `params.slug`. `params` should be awaited before using its properties.
Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
```

## ğŸ”¥ æ­£ç¢ºè§£æ³•

è¦æ”¹æˆé€™æ¨£ï¼Œ**await** è§£æ§‹ `params`ï¼š

```tsx
export default async function Page({ params }: { params: { slug: string } }) {
  const { slug } = await params; // âœ… æ­£ç¢ºï¼šawait è§£æ§‹
}
```

è€Œ `generateMetadata` ä¹Ÿéœ€è¦åŒæ­¥èª¿æ•´ï¼š

```tsx
export async function generateMetadata({ params }: { params: { slug: string } }) {
  const { slug } = await params; // âœ… æ­£ç¢ºï¼šawait è§£æ§‹
  return {
    title: `æ–‡ç« ï¼š${slug}`,
  };
}
```

## ğŸ§© ç‚ºä»€éº¼éœ€è¦é€™æ¨£ï¼Ÿ

å› ç‚ºï¼š

- **Server Actions** æ¨å‡ºå¾Œï¼ŒNext.js 15 æŠŠæ‰€æœ‰è·¯ç”±åƒæ•¸ **params** è¨­è¨ˆæˆ asyncï¼Œè®“ Server Component æ•ˆèƒ½æ›´å¥½ã€‚
- **params** å…¶å¯¦æ˜¯ä¸€å€‹ _async resource_ï¼Œä¸å†æ˜¯åŒæ­¥ç‰©ä»¶ã€‚
- é€™æ¨£å¯ä»¥é…åˆ Server Actions æ›´å¥½çš„å»¶é²è¼‰å…¥ï¼ˆlazy fetchï¼‰ï¼Œæå‡æ€§èƒ½ã€‚

> å°æé†’ï¼šé€™å€‹æ”¹å‹•åªå½±éŸ¿ **App Router**ï¼Œä¸æ˜¯èˆŠç‰ˆ Page Routerã€‚

## âœ… å°çµ

- `params` è¦ `await` ä¹‹å¾Œæ‰èƒ½ç”¨ï¼ŒåŒ…å«ï¼š
  - `generateMetadata`
  - `Page` Component
- å¦‚æœå¿˜è¨˜ `await`ï¼Œ**æœƒç›´æ¥éŒ¯èª¤ç„¡æ³•ç·¨è­¯**ï¼Œä¸æ˜¯è­¦å‘Šæ˜¯**ç·¨è­¯éŒ¯èª¤**ã€‚

## ğŸ“¦ å»ºè­° Commit è¨Šæ¯

```bash
fix: è£œä¸Š await è§£æ§‹ paramsï¼Œä¿®æ­£ Next.js 15 å‹•æ…‹è·¯ç”±éŒ¯èª¤
```

## ğŸ’¡ å»¶ä¼¸é–±è®€

- [Next.js 15 App Router æ”¹ç‰ˆèªªæ˜](https://nextjs.org/blog/next-15)
- [å®˜æ–¹éŒ¯èª¤è¨Šæ¯æ–‡ä»¶](https://nextjs.org/docs/messages/sync-dynamic-apis)
